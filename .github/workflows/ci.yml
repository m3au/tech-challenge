name: CI

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
  # eslint-disable-next-line yml/no-empty-mapping-value -- GitHub Actions allows empty trigger events
  workflow_dispatch:

permissions:
  contents: read

jobs:
  unit-tests:
    name: Unit Tests
    uses: ./.github/workflows/unit-tests.yml

  test:
    name: E2E Tests
    needs: [unit-tests]
    uses: ./.github/workflows/test.yml

  lighthouse:
    name: Lighthouse Audit
    needs: [unit-tests]
    uses: ./.github/workflows/lighthouse.yml

  axe:
    name: Axe Audit
    needs: [unit-tests]
    uses: ./.github/workflows/axe.yml
